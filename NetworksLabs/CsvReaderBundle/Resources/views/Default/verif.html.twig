<html>
<head>

<link href="{{asset('/bundles/networkslabsgallery/css/base.css')}}" media="screen" rel="stylesheet" type="text/css" />
<link href="{{asset('/bundles/networkslabscsvreader/css/base.css')}}" media="screen" rel="stylesheet" type="text/css" />
		<style type="text/css" title="currentStyle">
			@import "/bundles/networkslabscsvreader/datatable/media/css/demo_page.css";
			@import "/bundles/networkslabscsvreader/datatable/media/css/demo_table.css";
		</style>
</head>
<body>
<div>
{%if errors|length > 0%}
    <span class="error">{{errors|length}} erreurs dans l'import : </span>
    <ul>
        {%for error in errors%}
            <li>{{error}}</li>
        {%endfor%}
    </ul>
{%else%}
    <span class="ok">fichier importé avec succés</span>
{%endif%}
<form action="{{path('NetworksLabsCsvReaderBundle_verif')}}" method="post" {{ form_enctype(form) }}>
        {{ form_rest(form) }}
    <input type="submit" id="submit" value="Charger" name="submit" />
</form>

<table id="grid">
<thead>
    <tr>
        {%for header in headers%}
            <th>{{header}}</th>
        {%endfor%}
        <th></th>
    </tr>

</thead>
<tbody>

</tbody>
</table>
</div>
{%block javascripts%}
		<script type="text/javascript" language="javascript" src="/bundles/networkslabscsvreader/datatable/media/js/jquery.js"></script>
		<script type="text/javascript" language="javascript" src="/bundles/networkslabscsvreader/datatable/media/js/jquery.dataTables.js"></script>
		<script type="text/javascript" charset="utf-8">
			$(document).ready(function() {
				$('#grid').dataTable({
					"bProcessing": true,
					"sAjaxSource": "{{url('NetworksLabsCsvReaderBundle_ajax', {'import_key':key})}}",
		            "aoColumns": [
                    {%for header in headers%}
                        { "mDataProd": "{{header}}"},
                    {%endfor%}
                        { "mDataProd": "état"},
		            ]
				} );
			} );
		</script>
{%endblock%}
</body>
</html>
